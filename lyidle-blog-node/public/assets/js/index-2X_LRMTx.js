import{i as De,f as Je,a as $e,b as Qe,d as pe,c as ke,u as et,e as tt,g as Fe,h as ot,j as at,k as nt,l as st,V as rt,v as lt,m as it,E as Z,n as ut,w as ct}from"./base-NSWKc6xr.js";import{u as fe,U as ge,a as dt,d as ze,b as pt,_ as ft,E as mt,c as vt}from"./index-Bjs2PJZa.js";import{_ as gt,E as ht}from"./index-D8EXBM2K.js";import{x as b,B as He,C as ne,m as k,D as se,E as Pe,G as B,H as me,d as A,I as yt,J as bt,K as Re,L as wt,M as xt,o as v,c as E,z as w,F as re,N as I,j as e,g as te,f as x,b as R,w as C,r as oe,O as Ne,a as h,P as _t,Q as Ct,t as X,y as Te,_ as le,s as St,u as It,R as ae,h as ve,S as Ae,A as Et}from"./index-DiAfyPoZ.js";const Vt=()=>De&&/firefox/i.test(window.navigator.userAgent);function $t(a){return a==null}const kt=a=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(a),Ft=a=>a,zt=["class","style"],Pt=/^on[A-Z]/,Rt=(a={})=>{const{excludeListeners:s=!1,excludeKeys:r}=a,o=b(()=>((r==null?void 0:r.value)||[]).concat(zt)),c=He();return c?b(()=>{var p;return Je(Object.entries((p=c.proxy)==null?void 0:p.$attrs).filter(([i])=>!o.value.includes(i)&&!(s&&Pt.test(i))))}):b(()=>({}))};function Nt(a){let s;function r(){if(a.value==null)return;const{selectionStart:c,selectionEnd:p,value:i}=a.value;if(c==null||p==null)return;const l=i.slice(0,Math.max(0,c)),d=i.slice(Math.max(0,p));s={selectionStart:c,selectionEnd:p,value:i,beforeTxt:l,afterTxt:d}}function o(){if(a.value==null||s==null)return;const{value:c}=a.value,{beforeTxt:p,afterTxt:i,selectionStart:l}=s;if(p==null||i==null||l==null)return;let d=c.length;if(c.endsWith(i))d=c.length-i.length;else if(c.startsWith(p))d=p.length;else{const y=p[l-1],f=c.indexOf(y,l-1);f!==-1&&(d=f+1)}a.value.setSelectionRange(d,d)}return[r,o]}function Tt(a,{beforeFocus:s,afterFocus:r,beforeBlur:o,afterBlur:c}={}){const p=He(),{emit:i}=p,l=ne(),d=k(!1),y=_=>{Pe(s)&&s(_)||d.value||(d.value=!0,i("focus",_),r==null||r())},f=_=>{var S;Pe(o)&&o(_)||_.relatedTarget&&((S=l.value)!=null&&S.contains(_.relatedTarget))||(d.value=!1,i("blur",_),c==null||c())},m=()=>{var _,S;(_=l.value)!=null&&_.contains(document.activeElement)&&l.value!==document.activeElement||(S=a.value)==null||S.focus()};return se(l,_=>{_&&_.setAttribute("tabindex","-1")}),fe(l,"focus",y,!0),fe(l,"blur",f,!0),fe(l,"click",m,!0),{isFocused:d,wrapperRef:l,handleFocus:y,handleBlur:f}}function At({afterComposition:a,emit:s}){const r=k(!1),o=l=>{s==null||s("compositionstart",l),r.value=!0},c=l=>{var d;s==null||s("compositionupdate",l);const y=(d=l.target)==null?void 0:d.value,f=y[y.length-1]||"";r.value=!kt(f)},p=l=>{s==null||s("compositionend",l),r.value&&(r.value=!1,B(()=>a(l)))};return{isComposing:r,handleComposition:l=>{l.type==="compositionend"?p(l):c(l)},handleCompositionStart:o,handleCompositionUpdate:c,handleCompositionEnd:p}}let z;const Lt=`
  height:0 !important;
  visibility:hidden !important;
  ${Vt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Bt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Mt(a){const s=window.getComputedStyle(a),r=s.getPropertyValue("box-sizing"),o=Number.parseFloat(s.getPropertyValue("padding-bottom"))+Number.parseFloat(s.getPropertyValue("padding-top")),c=Number.parseFloat(s.getPropertyValue("border-bottom-width"))+Number.parseFloat(s.getPropertyValue("border-top-width"));return{contextStyle:Bt.map(i=>`${i}:${s.getPropertyValue(i)}`).join(";"),paddingSize:o,borderSize:c,boxSizing:r}}function Le(a,s=1,r){var o;z||(z=document.createElement("textarea"),document.body.appendChild(z));const{paddingSize:c,borderSize:p,boxSizing:i,contextStyle:l}=Mt(a);z.setAttribute("style",`${l};${Lt}`),z.value=a.value||a.placeholder||"";let d=z.scrollHeight;const y={};i==="border-box"?d=d+p:i==="content-box"&&(d=d-c),z.value="";const f=z.scrollHeight-c;if($e(s)){let m=f*s;i==="border-box"&&(m=m+c+p),d=Math.max(m,d),y.minHeight=`${m}px`}if($e(r)){let m=f*r;i==="border-box"&&(m=m+c+p),d=Math.min(m,d)}return y.height=`${d}px`,(o=z.parentNode)==null||o.removeChild(z),z=void 0,y}const Dt=Qe({id:{type:String,default:void 0},size:et,disabled:Boolean,modelValue:{type:pe([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:pe([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:ke},prefixIcon:{type:ke},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:pe([Object,Array,String]),default:()=>Ft({})},autofocus:Boolean,rows:{type:Number,default:2},...dt(["ariaLabel"])}),Ht={[ge]:a=>me(a),input:a=>me(a),change:a=>me(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},Ot=A({name:"ElInput",inheritAttrs:!1}),qt=A({...Ot,props:Dt,emits:Ht,setup(a,{expose:s,emit:r}){const o=a,c=yt(),p=Rt(),i=bt(),l=b(()=>[o.type==="textarea"?G.b():n.b(),n.m(_.value),n.is("disabled",S.value),n.is("exceed",Oe.value),{[n.b("group")]:i.prepend||i.append,[n.m("prefix")]:i.prefix||o.prefixIcon,[n.m("suffix")]:i.suffix||o.suffixIcon||o.clearable||o.showPassword,[n.bm("suffix","password-clear")]:ee.value&&ue.value,[n.b("hidden")]:o.type==="hidden"},c.class]),d=b(()=>[n.e("wrapper"),n.is("focus",u.value)]),{form:y,formItem:f}=nt(),{inputId:m}=st(o,{formItemContext:f}),_=ot(),S=at(),n=Fe("input"),G=Fe("textarea"),M=ne(),F=ne(),D=k(!1),j=k(!1),J=k(),L=ne(o.inputStyle),N=b(()=>M.value||F.value),{wrapperRef:H,isFocused:u,handleFocus:O,handleBlur:ie}=Tt(N,{beforeFocus(){return S.value},afterBlur(){var t;o.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"blur").catch(g=>ze()))}}),P=b(()=>{var t;return(t=y==null?void 0:y.statusIcon)!=null?t:!1}),$=b(()=>(f==null?void 0:f.validateState)||""),q=b(()=>$.value&&rt[$.value]),Q=b(()=>j.value?lt:it),V=b(()=>[c.style]),he=b(()=>[o.inputStyle,L.value,{resize:o.resize}]),T=b(()=>$t(o.modelValue)?"":String(o.modelValue)),ee=b(()=>o.clearable&&!S.value&&!o.readonly&&!!T.value&&(u.value||D.value)),ue=b(()=>o.showPassword&&!S.value&&!!T.value&&(!!T.value||u.value)),K=b(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!S.value&&!o.readonly&&!o.showPassword),ce=b(()=>T.value.length),Oe=b(()=>!!K.value&&ce.value>Number(o.maxlength)),qe=b(()=>!!i.suffix||!!o.suffixIcon||ee.value||o.showPassword||K.value||!!$.value&&P.value),[Ke,Ue]=Nt(M);pt(F,t=>{if(je(),!K.value||o.resize!=="both")return;const g=t[0],{width:U}=g.contentRect;J.value={right:`calc(100% - ${U+15+6}px)`}});const Y=()=>{const{type:t,autosize:g}=o;if(!(!De||t!=="textarea"||!F.value))if(g){const U=Re(g)?g.minRows:void 0,Ee=Re(g)?g.maxRows:void 0,Ve=Le(F.value,U,Ee);L.value={overflowY:"hidden",...Ve},B(()=>{F.value.offsetHeight,L.value=Ve})}else L.value={minHeight:Le(F.value).minHeight}},je=(t=>{let g=!1;return()=>{var U;if(g||!o.autosize)return;((U=F.value)==null?void 0:U.offsetParent)===null||(t(),g=!0)}})(Y),W=()=>{const t=N.value,g=o.formatter?o.formatter(T.value):T.value;!t||t.value===g||(t.value=g)},de=async t=>{Ke();let{value:g}=t.target;if(o.formatter&&(g=o.parser?o.parser(g):g),!be.value){if(g===T.value){W();return}r(ge,g),r("input",g),await B(),W(),Ue()}},ye=t=>{r("change",t.target.value)},{isComposing:be,handleCompositionStart:we,handleCompositionUpdate:xe,handleCompositionEnd:_e}=At({emit:r,afterComposition:de}),Ye=()=>{j.value=!j.value,Ce()},Ce=async()=>{var t;await B(),(t=N.value)==null||t.focus()},We=()=>{var t;return(t=N.value)==null?void 0:t.blur()},Ze=t=>{D.value=!1,r("mouseleave",t)},Xe=t=>{D.value=!0,r("mouseenter",t)},Se=t=>{r("keydown",t)},Ge=()=>{var t;(t=N.value)==null||t.select()},Ie=()=>{r(ge,""),r("change",""),r("clear"),r("input","")};return se(()=>o.modelValue,()=>{var t;B(()=>Y()),o.validateEvent&&((t=f==null?void 0:f.validate)==null||t.call(f,"change").catch(g=>ze()))}),se(T,()=>W()),se(()=>o.type,async()=>{await B(),W(),Y()}),wt(()=>{!o.formatter&&o.parser,W(),B(Y)}),s({input:M,textarea:F,ref:N,textareaStyle:he,autosize:xt(o,"autosize"),isComposing:be,focus:Ce,blur:We,select:Ge,clear:Ie,resizeTextarea:Y}),(t,g)=>(v(),E("div",{class:I([e(l),{[e(n).bm("group","append")]:t.$slots.append,[e(n).bm("group","prepend")]:t.$slots.prepend}]),style:Te(e(V)),onMouseenter:Xe,onMouseleave:Ze},[w(" input "),t.type!=="textarea"?(v(),E(re,{key:0},[w(" prepend slot "),t.$slots.prepend?(v(),E("div",{key:0,class:I(e(n).be("group","prepend"))},[te(t.$slots,"prepend")],2)):w("v-if",!0),x("div",{ref_key:"wrapperRef",ref:H,class:I(e(d))},[w(" prefix slot "),t.$slots.prefix||t.prefixIcon?(v(),E("span",{key:0,class:I(e(n).e("prefix"))},[x("span",{class:I(e(n).e("prefix-inner"))},[te(t.$slots,"prefix"),t.prefixIcon?(v(),R(e(Z),{key:0,class:I(e(n).e("icon"))},{default:C(()=>[(v(),R(oe(t.prefixIcon)))]),_:1},8,["class"])):w("v-if",!0)],2)],2)):w("v-if",!0),x("input",Ne({id:e(m),ref_key:"input",ref:M,class:e(n).e("inner")},e(p),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?j.value?"text":"password":t.type,disabled:e(S),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:e(we),onCompositionupdate:e(xe),onCompositionend:e(_e),onInput:de,onChange:ye,onKeydown:Se}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),w(" suffix slot "),e(qe)?(v(),E("span",{key:1,class:I(e(n).e("suffix"))},[x("span",{class:I(e(n).e("suffix-inner"))},[!e(ee)||!e(ue)||!e(K)?(v(),E(re,{key:0},[te(t.$slots,"suffix"),t.suffixIcon?(v(),R(e(Z),{key:0,class:I(e(n).e("icon"))},{default:C(()=>[(v(),R(oe(t.suffixIcon)))]),_:1},8,["class"])):w("v-if",!0)],64)):w("v-if",!0),e(ee)?(v(),R(e(Z),{key:1,class:I([e(n).e("icon"),e(n).e("clear")]),onMousedown:_t(e(Ct),["prevent"]),onClick:Ie},{default:C(()=>[h(e(ut))]),_:1},8,["class","onMousedown"])):w("v-if",!0),e(ue)?(v(),R(e(Z),{key:2,class:I([e(n).e("icon"),e(n).e("password")]),onClick:Ye},{default:C(()=>[(v(),R(oe(e(Q))))]),_:1},8,["class"])):w("v-if",!0),e(K)?(v(),E("span",{key:3,class:I(e(n).e("count"))},[x("span",{class:I(e(n).e("count-inner"))},X(e(ce))+" / "+X(t.maxlength),3)],2)):w("v-if",!0),e($)&&e(q)&&e(P)?(v(),R(e(Z),{key:4,class:I([e(n).e("icon"),e(n).e("validateIcon"),e(n).is("loading",e($)==="validating")])},{default:C(()=>[(v(),R(oe(e(q))))]),_:1},8,["class"])):w("v-if",!0)],2)],2)):w("v-if",!0)],2),w(" append slot "),t.$slots.append?(v(),E("div",{key:1,class:I(e(n).be("group","append"))},[te(t.$slots,"append")],2)):w("v-if",!0)],64)):(v(),E(re,{key:1},[w(" textarea "),x("textarea",Ne({id:e(m),ref_key:"textarea",ref:F,class:[e(G).e("inner"),e(n).is("focus",e(u))]},e(p),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:e(S),readonly:t.readonly,autocomplete:t.autocomplete,style:e(he),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:e(we),onCompositionupdate:e(xe),onCompositionend:e(_e),onInput:de,onFocus:e(O),onBlur:e(ie),onChange:ye,onKeydown:Se}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),e(K)?(v(),E("span",{key:0,style:Te(J.value),class:I(e(n).e("count"))},X(e(ce))+" / "+X(t.maxlength),7)):w("v-if",!0)],64))],38))}});var Kt=tt(qt,[["__file","input.vue"]]);const Ut=ct(Kt),jt={},Yt={class:"i-lucide:user"};function Wt(a,s){return v(),E("i",Yt)}const Be=le(jt,[["render",Wt]]),Zt={class:"i-carbon:password"},Xt=A({name:"passwordIcon"}),Me=A({...Xt,setup(a){return(s,r)=>(v(),E("i",Zt))}}),Gt={class:"i-mdi:password-outline"},Jt=A({name:"confirmPasswordIcon"}),Qt=A({...Jt,setup(a){return(s,r)=>(v(),E("i",Gt))}}),eo={},to={class:"i-mdi-light:email"};function oo(a,s){return v(),E("i",to)}const ao=le(eo,[["render",oo]]),no={},so={class:"i-gravity-ui:shield"};function ro(a,s){return v(),E("i",so)}const lo=le(no,[["render",ro]]),io={class:"flex w-100%"},uo=A({name:"Login"}),co=A({...uo,setup(a){Et(H=>({"683e026d":e(s)}));const{cardBoxShadow:s}=St(It()),r=k(),o=k(),c=k(),p=5,i=k(p),l=k(!0),d=k(),y=k(),f=ae({account:"",password:""}),m=ae({account:"",email:"",code:"",password:"",confirmPassword:""}),_=()=>{c.value.style.transform="rotateY(0deg)",o.value.style.transform="rotateY(180deg)",d.value.resetFields()},S=()=>{c.value.style.transform="rotateY(180deg)",o.value.style.transform="rotateY(0deg)",y.value.resetFields()},n=/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@,_.])[a-zA-Z0-9$@,_.]{6,12}$/,G=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,M=/^[0-9]{6}$/,F=ae({account:[{required:!0,trigger:"change",message:"账号是必填项哦~"},{required:!0,trigger:"change",min:3,message:"账号长度最少要是三位哦~"}],password:[{required:!0,trigger:"change",message:"密码是必填项哦~"},{required:!0,trigger:"change",min:6,max:12,message:"密码必须要在6-12位哦~"},{required:!0,trigger:"change",pattern:n,message:"密码需要必须包含数字、字母小写与大写，和特殊字符($@,_.)中的一个~"}]}),D=()=>{console.log(f)},J=ae({account:[{required:!0,trigger:"change",message:"账号是必填项哦~"},{required:!0,trigger:"change",min:3,message:"账号长度最少要是三位哦~"}],password:[{required:!0,trigger:"change",message:"密码是必填项哦~"},{required:!0,trigger:"change",min:6,max:12,message:"密码必须要在6-12位哦~"},{required:!0,trigger:"change",pattern:n,message:"密码需要必须包含数字、字母小写与大写，和特殊字符($@,_.)中的一个哦~"}],email:[{required:!0,trigger:"change",pattern:G,message:"邮箱格式不正确哦~"}],code:[{required:!0,trigger:"change",pattern:M,message:"验证码格式不正确哦~"}],confirmPassword:[{required:!0,trigger:"change",validator:(H,u,O)=>{if(u!==m.password)return O(new Error("确认密码需要与密码一致哦~"));O()}}]}),L=async()=>{await y.value.validate()},N=async()=>{await y.value.validateField("email"),l.value=!1;const H=setInterval(()=>{--i.value,i.value<0&&(i.value=p,l.value=!0,clearInterval(H))},1e3)};return(H,u)=>{const O=ft,ie=gt,P=Ut,$=mt,q=ht,Q=vt;return v(),E(re,null,[h(O),h(ie),x("div",{class:"container",ref_key:"container",ref:r},[x("div",{class:"login",ref_key:"login",ref:o},[u[9]||(u[9]=x("h1",{class:"text-center mt-0"},"登录",-1)),h(Q,{"label-width":"40px","label-position":"left",model:e(f),onKeyup:Ae(D,["enter"]),rules:e(F),ref_key:"loginForm",ref:d},{default:C(()=>[h($,{label:"账号",prop:"account"},{default:C(()=>[h(P,{placeholder:"Account",modelValue:e(f).account,"onUpdate:modelValue":u[0]||(u[0]=V=>e(f).account=V),"prefix-icon":Be},null,8,["modelValue"])]),_:1}),h($,{label:"密码",prop:"password"},{default:C(()=>[h(P,{placeholder:"Password",modelValue:e(f).password,"onUpdate:modelValue":u[1]||(u[1]=V=>e(f).password=V),"show-password":"",autocomplete:"off","prefix-icon":Me},null,8,["modelValue"])]),_:1}),h(q,{type:"primary",class:"primary-button w-100% mt-5px",onClick:D},{default:C(()=>u[7]||(u[7]=[ve(" 登录 ")])),_:1})]),_:1},8,["model","rules"]),x("div",{class:"tip text-center"},[u[8]||(u[8]=x("span",null,"没有账号？",-1)),x("span",{class:"cursor-[var(--cursor-pointer)] link",onClick:_},"去注册")])],512),x("div",{class:"reg",ref_key:"reg",ref:c},[u[12]||(u[12]=x("h1",{class:"text-center mt-0"},"注册",-1)),h(Q,{"label-width":"70px",onKeyup:Ae(L,["enter"]),"label-position":"left",rules:e(J),model:e(m),ref_key:"regForm",ref:y},{default:C(()=>[h($,{label:"账号",prop:"account"},{default:C(()=>[h(P,{placeholder:"Account",modelValue:e(m).account,"onUpdate:modelValue":u[2]||(u[2]=V=>e(m).account=V),"prefix-icon":Be},null,8,["modelValue"])]),_:1}),h($,{label:"邮箱",prop:"email"},{default:C(()=>[h(P,{placeholder:"E-Mail",modelValue:e(m).email,"onUpdate:modelValue":u[3]||(u[3]=V=>e(m).email=V),"prefix-icon":ao},null,8,["modelValue"])]),_:1}),h($,{label:"验证码",prop:"code"},{default:C(()=>[x("div",io,[h(P,{placeholder:"Code",modelValue:e(m).code,"onUpdate:modelValue":u[4]||(u[4]=V=>e(m).code=V),class:"flex-1","prefix-icon":lo},null,8,["modelValue"]),h(q,{type:"primary",class:"primary-button w-50px ml-10px",onClick:N,disabled:!e(l)},{default:C(()=>[ve(X(e(i)),1)]),_:1},8,["disabled"])])]),_:1}),h($,{label:"密码",prop:"password"},{default:C(()=>[h(P,{placeholder:"Password","show-password":"",modelValue:e(m).password,"onUpdate:modelValue":u[5]||(u[5]=V=>e(m).password=V),autocomplete:"off","prefix-icon":Me},null,8,["modelValue"])]),_:1}),h($,{label:"确认密码",prop:"confirmPassword"},{default:C(()=>[h(P,{placeholder:"Confirm Password","show-password":"",modelValue:e(m).confirmPassword,"onUpdate:modelValue":u[6]||(u[6]=V=>e(m).confirmPassword=V),autocomplete:"off","prefix-icon":Qt},null,8,["modelValue"])]),_:1}),h(q,{type:"primary",class:"primary-button w-100% mt-5px",onClick:L},{default:C(()=>u[10]||(u[10]=[ve("注册")])),_:1})]),_:1},8,["rules","model"]),x("div",{class:"tip text-center"},[u[11]||(u[11]=x("span",null,"有账号？",-1)),x("span",{class:"cursor-[var(--cursor-pointer)] link",onClick:S},"去登录")])],512)],512)],64)}}}),ho=le(co,[["__scopeId","data-v-9896ee73"]]);export{ho as default};
